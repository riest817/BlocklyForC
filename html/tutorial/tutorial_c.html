<!--
19/05/15 新規作成
-->
<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Blocklyの使い方</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Blocklyのデモを行います。">
<meta name="keywords" content="Blockly Demo">
<link rel="stylesheet" href="../css/style.css">
<script type="text/javascript" src="../js/openclose.js"></script>
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>

<body>

<header>
<div class="inner">
<h1 id="logo"><a href="../../index.html"><img src="../images/logo4.PNG" alt="Blockly Demo"></a></h1>
<div id="contact">
<p class="tel"><a href="http://ymir.eng.kagawa-u.ac.jp/">香川研究室</a><span>佐野</span></p>
</div>
</div>
</header>

<!--PC用（801px以上端末）メニュー-->
<nav id="menubar">
<ul class="inner">
<li><a href="../../index.html">Home</a></li>
<li  class="current"><a href="tutorial.html">Tutorial</a></li>
<li><a href="../link.html">Link</a></li>
<li><a href="../form.html">Contact</a></li>
</ul>
</nav>
<!--小さな端末用（800px以下端末）メニュー-->
<nav id="menubar-s">
<ul>
<li><a href="../../index.html">Home</a></li>
<li class="current"><a href="../tutorial.html">Tutorial</a></li>
<li><a href="../link.html">Link</a></li>
<li><a href="../form.html">Contact</a></li>
</ul>
</nav>


<div class="contents">
<div class="inner">

<section>

<div class="main">
<section>

<h2>ブロックの組み立て方(C編)</h2>
<p>下図は、Blockly for C のワークスペースにブロックが何も組み立てられていない初期状態です。</p>
<img src="images/c/c_first.PNG" alt="" class="img">
<p></p>
<p>以下のCコードをBlocklyで組み立てます。</p>
<img src="images/c/c_code_index.PNG" alt="" width="50%" height="50%">
<p>注) C言語をある程度マスターしている方ならお気づきかと思いますが、一部の文法で誤りがあります。現在、Blocklyのシステムを改善中です。申し訳ございません。</p>
<p></p>


<h2>CコードをBlocklyで組み立てる手順</h2>

<p><strong class="color1">①関数ブロックの設置</strong></br>
ブロックメニュー部の関数カテゴリをクリックして、その一番上のブロックと上から２番目のブロックをワークスペース部にドラッグします(左図)。<br>
配置は、「返す」の表記があるブロックを上に、「返す」の表記がないブロックを下に配置してください。そして、上の関数ブロックの入力フォームに「max2」と書き換えて、下の関数ブロックの入力フォームに「main」と書き替えてください(右図)。</p>
<img src="images/c/1step.PNG" alt="" width="80%" height="80%">
<p></p>

<p><strong class="color1">②関数ブロックの引数の設定</strong></br>
さきほど設置した関数main2ブロック(上側)の歯車マークをクリックすると左図のような小さなブロックメニュー部とワークスペース部が表示されます(左図)。<br>
その小さなブロックメニュー部の入力名ブロックを小さなワークスペース部の入力ブロックの内側に接続します。
そして、接続した入力名ブロックの入力フォームにそれぞれ「a」、「b」と書き換えます(右図)。</p>
<img src="images/c/2step.PNG" alt="" width="100%" height="100%">
<p></p>

<p><strong class="color1">③ヘッダブロックの設置</strong></br>
ブロックメニュー部のヘッダカテゴリをクリックして、その一番上のstdioブロックをワークスペース部にドラッグします。</p>
<img src="images/c/3step.PNG" alt="" width="50%" height="50%">
<p></p>

<p><strong class="color1">④入力・出力ブロックの接続</strong></br>
ブロックメニュー部の入出力カテゴリをクリックして、その一番上のscanfブロックを２つ、printfブロックを1つ、mainブロックの内側に接続します(左図)。<br>
次に、2つのscanfブロックの入力フォームに「%d」と書きます。そして、printfブロックの入力フォームに「大きい方の値は%dです。」と書きます。すると、それぞれのブロックの入力フォームの右隣にソケット（穴）ができたごとが分かります(右図)。これは、入力フォームに「%」があると動的にソケットができる仕組みです。</p>
<img src="images/c/4step.PNG" alt="" width="100%" height="100%">
<p></p>

<p><strong class="color1">⑤関数呼び出しブロックの接続</strong></br>
ブロックメニュー部の関数カテゴリをクリックして、その一番下のmax呼び出しブロックをprintfブロックのソケットに接続します。</p>
<img src="images/c/5step.PNG" alt="" width="65%" height="65%">
<p></p>

<p><strong class="color1">⑥変数ブロックの接続</strong></br>
ブロックメニュー部の変数カテゴリをクリックして、その一番上の「変数の作成...」をクリックします。すると、新しい変数の名前を入力できる入力フォームが現れます。そこに、「n1」と入力してOKを押します(左図)。すると、変数カテゴリの一番下にn1ブロックが作成されていることが分かります。同様の流れで新しい変数のn2ブロックも作成しておきましょう。<br>
変数カテゴリからn1ブロックとn2ブロックをそれぞれ2個ずつ右図のようにソケットに接続します。</p>
<img src="images/c/6step.PNG" alt="" width="100%" height="100%">
<p></p>

<p><strong class="color1">⑦論理ブロックの接続</strong></br>
ブロックメニュー部の論理カテゴリをクリックして、その一番上のもし実行ブロックを関数max2ブロックに接続します。もし実行ブロックの歯車マークをクリックして小さなブロックメニュー部の下側の「そうでなければ」ブロックをワークスペース部のもしブロックの下側に接続します(左図)。<br>
論理カテゴリの上から2番目の比較演算子ブロックをもし実行ブロックの一番上の接続部に接続します。そして、選択フォームをクリックして「>」を選択します(右図)。</p>
<img src="images/c/7step.PNG" alt="" width="100%" height="100%">
<p></p>

<p><strong class="color1">⑧変数ブロックの接続</strong></br>
ブロックメニュー部の変数カテゴリをクリックして、その一番上の「変数の作成...」をクリックして、「max」変数ブロックを新たに作成します。変数カテゴリの一番上の代入ブロックを2つ取り出し、もし実行ブロックに左図のように接続してください。その際、代入ブロックがmax以外の表記になっていたら選択フォームでmaxを選択してください。<br>
変数カテゴリからaブロック、bブロックをそれぞれ2個、maxブロックを1個取り出して右図のように接続します。</p>
<img src="images/c/8step.PNG" alt="" width="100%" height="100%">
<p></p>


<h2>ブロックの完成図</h2>
<p>下図は、前項の手順で組み立てたワークスペース部の完成図です。</p>
<img src="images/flex/finish_workspace.PNG" alt="" class="img">
<p></p>

<h3 class="color1">
<strong>
NEXT ⇒ <a href="tab.html">3.タブの構成</a>
</strong>
</h3>

</section>
</div>
<!--/main-->

<div class="sub">

<nav class="box1">
<h2>Menu</h2>
<ul class="submenu">
<li><a href="tutorial.html">1.システムの概要図と構成</a></li>
<li><a href="tutorial_block.html">2.ブロックの組み立て方</a></li>
<li><a href="tab.html">3.タブの構成</a></li>
<li><a href="sample_button.html">4.サンプルボタン</a></li>
<li><a href="languageMenu.html">5.表記切り替え機能</a></li>
<li><a href="contextMenu.html">6.コンテクストメニュー</a></li>
<li><a href="option.html">7.その他のオプション機能</a></li>
</ul>
</nav>
</div>
<!--/sub-->

</div>
<!--/inner-->
</div>
<!--/contents-->



<!--p id="pagetop" class="inner"><a href="#">↑</a></p-->

<footer>

<div id="copyright">
<small>Copyright&copy; @2018 <a href="http://ymir.eng.kagawa-u.ac.jp/">Kagawa Lab.</a> and Yuya SANO. All Rights Reserved.</small>
</div>

</footer>


<!--スマホ用更新情報　800px以下-->
<script type="text/javascript">
if (OCwindowWidth() <= 800) {
	open_close("newinfo_hdr", "newinfo");
}
</script>

<!--メニューの３本バー-->
<div id="menubar_hdr" class="close"><span></span><span></span><span></span></div>
<!--メニューの開閉処理条件設定　800px以下-->
<script type="text/javascript">
if (OCwindowWidth() <= 800) {
	open_close("menubar_hdr", "menubar-s");
}
</script>
</body>
</html>
